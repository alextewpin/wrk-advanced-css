# Гайд по автоматизации работы с CSS

### Общие замечания

Гайд предназначен для продвинутых верстальщиков и не предназначен для фронтенд-разработчиков. Последние предпочтут более продвиные инструменты для сборки, такие как Webpack.

Гайд предполагает работу с консолью. Это немного легче на nix-системах, включая OS X и немного сложнее на Windows. Символ `$` означает, что следующую за ним команду нужно ввести в консоль. Сам символ вводить не надо. В большинстве случаев команды следует запускать из папки проекта.

### Зачем это нужно?

CSS достаточно примитивен и с ростом сайта его становится сложно поддерживать. Автоматическая сборка, для сравнения, позволяет:
* Использовать множество файлов и импортировать один в другой
* Использовать переменные для цветов и размеров
* Вкладывать правила друг в друга
* Расставлять префиксы вроде `-webkit` и `-moz`
* Минифицировать файлы
 
### Как это работает?
1. Файлы стилей пишутся в специальном синтаксисе, который использует программой [http://sass-lang.com](Sass) и называется `SCSS`.
2. За файлами следит сборщик, в данном случае [http://gulpjs.com](Gulp). Когда они изменяются, то он проходит по всему проекту, склеивает все `SCSS` вместе, конвертирует их в привычный `CSS` и складывает в другую папку.
3. После отладки мы запускаем Gulp с другими параметрами и получаем один минифицированный css-файл.
4. ...
5. PROFIT!

### Установка окружения

Первое, что следует сделать — поставить на компьютер [https://nodejs.org/en/](Node.js). Это платформа, которая позволяет выполнять JavaScript где угодно, в том числе напрямую в ОС. Вместе с Node.js автоматически ставится [https://www.npmjs.com](npm) — это менеджер пакетов, который облегчит работу с кучей стронних приложений.

### Установка проекта

Просто скачайте zip-архив и распакуйте куда удобно. Продвинутым рекомедую поставить [https://git-scm.com](Git) и разобраться с клонированием репозитория из командной строки.

### Установка модулей

Gulp придется установить глобально, т.е. не в папку проекта, а на всю систему:
```
$ npm install gulp -g
```

После этого поставим остальные зависимости:
```
$ npm install
```

Они установятся в папку node_modules. Здесь это разные модули для Gulp — они и позволяют ему работать с SCSS, расставлять префиксы, минифицировать файлы и т.д.

### Запуск сборки

```
$ gulp
```
Обратите внимание, что даже после сборки Галп остался висеть в консоли. Теперь он будет следить за всеми измениями в папке `src` и перезапускать сборку, если ее содержимое изменися.

Собранный проект можно найти в папке `dev`.
